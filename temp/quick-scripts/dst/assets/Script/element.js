
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/element.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dbc3cQxtHpPj77TncyB18gQ', 'element');
// Script/element.js

"use strict";

/**
 * @author heyuchang
 * @file 单个方块控制
 */
cc.Class({
  "extends": cc.Component,
  properties: {
    _status: 0,
    //1为可触发点击 2为已经消失
    _itemType: 0,
    //新增道具功能 1为双倍倍数 2为炸弹
    warningSprite: cc.Sprite,
    lightSprite: cc.Sprite
  },
  init: function init(g, data, width, itemType, pos) {
    this._game = g;
    this._status = 1;

    if (pos) {//cc.log('生成的方块', pos)
    }

    pos = pos || {
      x: data.x,
      y: data.y
    };
    this._itemType = itemType || 0;
    this.warningType = 0;
    this.isPush = false;
    this.bindEvent();
    this.color = data.color || Math.ceil(Math.random() * 4);
    this.colorSprite = this.node.getChildByName('color').getComponent(cc.Sprite);
    this.colorSprite.spriteFrame = itemType ? g.propSpriteFrame[(itemType - 1) * 4 + this.color - 1] : this._game.blockSprite[this.color - 1];
    this.warningSprite.spriteFrame = '';
    this._width = width;
    this._controller = g._controller; // 计算宽

    this.lightSprite.node.active = false; //  this.lightSprite.spriteFrame = this._game.blockSprite[this.color - 1]

    this.node.width = this.node.height = width;
    this.startTime = data.startTime;
    this.iid = data.y;
    this.jid = data.x; // console.log('生成方块位置', data.y, data.x)

    this.node.x = -(730 / 2 - g.gap - width / 2) + pos.x * (width + g.gap);
    this.node.y = 730 / 2 - g.gap - width / 2 - pos.y * (width + g.gap);
    this.node.angle = 0;
    this.playStartAction();
  },
  onWarning: function onWarning(type) {
    this.warningSprite.spriteFrame = this._game.warningSpriteFrame[type - 1] || '';
    this.warningType = type; //   this.lightSprite.node.active = true

    var action1 = cc.blink(1, 10); //   this.lightSprite.node.runAction(action1)
  },
  warningInit: function warningInit() {
    this.warningSprite.spriteFrame = ''; //  this.lightSprite.node.active = false

    this.isPush = false;
  },
  growInit: function growInit() {
    this.growType = 0;
    this.colorSprite.node.height = this.colorSprite.node.width = this._width;
    this.colorSprite.node.y = this.colorSprite.node.x = 0;
  },
  grow: function grow(type) {
    //1234 上下左右
    switch (type) {
      case 1:
        if (this.growType != 2) {
          this.colorSprite.node.height += this._game.gap * 2;
          this.colorSprite.node.y += this._game.gap;
          this.growType = 1;
        }

        break;

      case 2:
        if (this.growType != 2) {
          this.colorSprite.node.height += this._game.gap * 2;
          this.colorSprite.node.y -= this._game.gap;
          this.growType = 1;
        }

        break;

      case 3:
        if (this.growType != 1) {
          this.colorSprite.node.width += this._game.gap * 2;
          this.colorSprite.node.x -= this._game.gap;
          this.growType = 2;
        }

        break;

      case 4:
        if (this.growType != 1) {
          this.colorSprite.node.width += this._game.gap * 2;
          this.colorSprite.node.x += this._game.gap;
          this.growType = 2;
        }

        break;
    }
  },
  bindEvent: function bindEvent() {
    this.node.on(cc.Node.EventType.TOUCH_START, this.onTouched, this);
  },
  // 用户点击 或者被其他方块触发
  onTouched: function onTouched(color, isChain, isBomb, time) {
    var _this = this;

    //道具新增参数 isChain是否连锁 isBomb是否强制消除
    if (time) {
      setTimeout(function () {
        _this.onTouched(color, false, isBomb);
      }, time);
      return;
    }

    isChain = JSON.stringify(isChain) == 'null' ? true : isChain;
    isBomb = isBomb ? isBomb : false;
    var self = this; // 爆炸触发

    if (this._status == 1 && isBomb == true) {
      this._status = 2;
      this.playDieAction().then(function () {
        _this.onBlockPop(color, isChain, isBomb);
      });
      return;
    }

    if (color.type) {
      // 一定是用户主动触发 保存这个坐标给game
      if (this.isSingle && this._itemType <= 1) {
        this.node.scale = 1;

        this._game._score.tipBox.init(this._game._score, 3);

        var action1 = cc.scaleTo(0.1, 1.1, 0.9);
        var action2 = cc.scaleTo(0.3, 1).easing(cc.easeBackOut(2.0));
        var action = cc.sequence(action1, action2);
        this.node.runAction(action);
        return;
      } // console.log('方块位置', this.iid, this.jid, this._itemType)


      color = this.color;

      if (this._status == 1 && this._game._status == 1 && this.color == color) {
        this._game.onUserTouched(this.iid, this.jid, this._itemType, this.color, this.warningType, {
          x: this.node.x,
          y: this.node.y
        });

        this._game._score.onStep(-1).then(function (res) {
          if (res) {
            _this.playDieAction().then(function () {
              _this.onBlockPop(color, null, null);
            });
          }
        });
      }
    } else {
      // 由其他方块触发
      if (this._status == 1 && this._game._status == 5 && this.color == color) {
        this.playDieAction().then(function () {
          _this.onBlockPop(color, null, null);
        });
      }
    }
  },
  onBlockPop: function onBlockPop(color, isChain, isBomb) {
    var self = this;
    isChain = JSON.stringify(isChain) == 'null' ? true : isChain;
    isBomb = isBomb ? isBomb : false;

    self._game.checkNeedFall();

    self._game._status = 5;

    self._controller.musicMgr.onPlayAudio(0 //self._game._score.chain - 1
    );

    if (this._itemType != 0) {
      // console.log("触发了道具", this._itemType)
      self._game.onItem(this._itemType, color, {
        x: this.node.x,
        y: this.node.y
      });
    }

    self._game._score.addScore(cc.v2(this.node.x, this.node.y - this.node.width + this._game.gap), this._itemType == 3 ? this._game._controller.config.json.propConfig[2].score : null); // 连锁状态


    if (isChain) {
      if (self.iid - 1 >= 0) {
        self._game.map[self.iid - 1][self.jid].getComponent('element').onTouched(color);
      }

      if (self.iid + 1 < this._game.rowNum) {
        self._game.map[self.iid + 1][self.jid].getComponent('element').onTouched(color);
      }

      if (self.jid - 1 >= 0) {
        self._game.map[self.iid][self.jid - 1].getComponent('element').onTouched(color);
      }

      if (self.jid + 1 < this._game.rowNum) {
        self._game.map[self.iid][self.jid + 1].getComponent('element').onTouched(color);
      }
    }
  },
  playFallAction: function playFallAction(y, data) {
    var _this2 = this;

    //下降了几个格子
    this._status = 0;

    if (data) {
      this.iid = data.y;
      this.jid = data.x;
    }

    var action = cc.moveBy(0.25, 0, -y * (this._game.gap + this._game.blockWidth)).easing(cc.easeBounceOut(5 / y)); //1 * y / this._game.animationSpeed

    var seq = cc.sequence(action, cc.callFunc(function () {
      _this2._status = 1; //  this._game.checkNeedGenerator()
    }, this));
    this.node.runAction(seq);
  },
  playStartAction: function playStartAction() {
    var _this3 = this;

    this.node.scaleX = 0;
    this.node.scaleY = 0;
    var action = cc.scaleTo(0.8 / this._game.animationSpeed, 1, 1).easing(cc.easeBackOut());
    var seq = cc.sequence(action, cc.callFunc(function () {
      _this3._status = 1;
    }, this)); // 如果有延迟时间就用延迟时间

    if (this.startTime) {
      setTimeout(function () {
        _this3.node.runAction(seq);
      }, this.startTime / 1 // (cc.game.getFrameRate() / 60)
      );
    } else {
      this.node.runAction(seq);
    }
  },
  playDieAction: function playDieAction() {
    var _this4 = this;

    var self = this;
    clearTimeout(this.surfaceTimer);
    this.node.stopAllActions();
    this._status = 2;
    this.node.scaleX = 1;
    this.node.scaleY = 1;
    return new Promise(function (resolve, reject) {
      var action;

      if (_this4.warningSprite.spriteFrame) {
        //有道具预警
        var action1 = cc.scaleTo(0.2 / self._game.animationSpeed, 1.1);
        var action2 = cc.moveTo(0.2 / self._game.animationSpeed, _this4._game.target.x, _this4._game.target.y);
        var action3 = cc.scaleTo(0.2, 0);
        var seq = cc.sequence(action1, cc.callFunc(function () {
          resolve('');
        }, _this4), cc.spawn(action2, action3));
      } else {
        action = cc.scaleTo(0.2 / self._game.animationSpeed, 0, 0);
        var seq = cc.sequence(action, cc.callFunc(function () {
          resolve('');
        }, _this4));
      }

      self.node.runAction(seq);
    });
  },
  surfaceAction: function surfaceAction(dela) {
    var _this5 = this;

    this.surfaceTimer = setTimeout(function () {
      var action = cc.scaleTo(0.4 / _this5._game.animationSpeed, 0.8, 0.8);
      var action1 = cc.scaleTo(0.4 / _this5._game.animationSpeed, 1, 1);

      _this5.node.runAction(cc.sequence(action, action1));
    }, dela);
  },
  generatePropAction: function generatePropAction() {},
  generateItem: function generateItem(type) {
    this._itemType = type;
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0XFxlbGVtZW50LmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwiX3N0YXR1cyIsIl9pdGVtVHlwZSIsIndhcm5pbmdTcHJpdGUiLCJTcHJpdGUiLCJsaWdodFNwcml0ZSIsImluaXQiLCJnIiwiZGF0YSIsIndpZHRoIiwiaXRlbVR5cGUiLCJwb3MiLCJfZ2FtZSIsIngiLCJ5Iiwid2FybmluZ1R5cGUiLCJpc1B1c2giLCJiaW5kRXZlbnQiLCJjb2xvciIsIk1hdGgiLCJjZWlsIiwicmFuZG9tIiwiY29sb3JTcHJpdGUiLCJub2RlIiwiZ2V0Q2hpbGRCeU5hbWUiLCJnZXRDb21wb25lbnQiLCJzcHJpdGVGcmFtZSIsInByb3BTcHJpdGVGcmFtZSIsImJsb2NrU3ByaXRlIiwiX3dpZHRoIiwiX2NvbnRyb2xsZXIiLCJhY3RpdmUiLCJoZWlnaHQiLCJzdGFydFRpbWUiLCJpaWQiLCJqaWQiLCJnYXAiLCJhbmdsZSIsInBsYXlTdGFydEFjdGlvbiIsIm9uV2FybmluZyIsInR5cGUiLCJ3YXJuaW5nU3ByaXRlRnJhbWUiLCJhY3Rpb24xIiwiYmxpbmsiLCJ3YXJuaW5nSW5pdCIsImdyb3dJbml0IiwiZ3Jvd1R5cGUiLCJncm93Iiwib24iLCJOb2RlIiwiRXZlbnRUeXBlIiwiVE9VQ0hfU1RBUlQiLCJvblRvdWNoZWQiLCJpc0NoYWluIiwiaXNCb21iIiwidGltZSIsInNldFRpbWVvdXQiLCJKU09OIiwic3RyaW5naWZ5Iiwic2VsZiIsInBsYXlEaWVBY3Rpb24iLCJ0aGVuIiwib25CbG9ja1BvcCIsImlzU2luZ2xlIiwic2NhbGUiLCJfc2NvcmUiLCJ0aXBCb3giLCJzY2FsZVRvIiwiYWN0aW9uMiIsImVhc2luZyIsImVhc2VCYWNrT3V0IiwiYWN0aW9uIiwic2VxdWVuY2UiLCJydW5BY3Rpb24iLCJvblVzZXJUb3VjaGVkIiwib25TdGVwIiwicmVzIiwiY2hlY2tOZWVkRmFsbCIsIm11c2ljTWdyIiwib25QbGF5QXVkaW8iLCJvbkl0ZW0iLCJhZGRTY29yZSIsInYyIiwiY29uZmlnIiwianNvbiIsInByb3BDb25maWciLCJzY29yZSIsIm1hcCIsInJvd051bSIsInBsYXlGYWxsQWN0aW9uIiwibW92ZUJ5IiwiYmxvY2tXaWR0aCIsImVhc2VCb3VuY2VPdXQiLCJzZXEiLCJjYWxsRnVuYyIsInNjYWxlWCIsInNjYWxlWSIsImFuaW1hdGlvblNwZWVkIiwiY2xlYXJUaW1lb3V0Iiwic3VyZmFjZVRpbWVyIiwic3RvcEFsbEFjdGlvbnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm1vdmVUbyIsInRhcmdldCIsImFjdGlvbjMiLCJzcGF3biIsInN1cmZhY2VBY3Rpb24iLCJkZWxhIiwiZ2VuZXJhdGVQcm9wQWN0aW9uIiwiZ2VuZXJhdGVJdGVtIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBSUFBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ1AsYUFBU0QsRUFBRSxDQUFDRSxTQURMO0FBRVBDLEVBQUFBLFVBQVUsRUFBRTtBQUNWQyxJQUFBQSxPQUFPLEVBQUUsQ0FEQztBQUNFO0FBQ1pDLElBQUFBLFNBQVMsRUFBRSxDQUZEO0FBRUk7QUFDZEMsSUFBQUEsYUFBYSxFQUFFTixFQUFFLENBQUNPLE1BSFI7QUFJVkMsSUFBQUEsV0FBVyxFQUFFUixFQUFFLENBQUNPO0FBSk4sR0FGTDtBQVFQRSxFQUFBQSxJQVJPLGdCQVFGQyxDQVJFLEVBUUNDLElBUkQsRUFRT0MsS0FSUCxFQVFjQyxRQVJkLEVBUXdCQyxHQVJ4QixFQVE2QjtBQUNsQyxTQUFLQyxLQUFMLEdBQWFMLENBQWI7QUFDQSxTQUFLTixPQUFMLEdBQWUsQ0FBZjs7QUFDQSxRQUFJVSxHQUFKLEVBQVMsQ0FDUDtBQUNEOztBQUNEQSxJQUFBQSxHQUFHLEdBQUdBLEdBQUcsSUFBSTtBQUNYRSxNQUFBQSxDQUFDLEVBQUVMLElBQUksQ0FBQ0ssQ0FERztBQUVYQyxNQUFBQSxDQUFDLEVBQUVOLElB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ZSxFQUFBQSxhQWhQTyx5QkFnUE9DLElBaFBQLEVBZ1BhO0FBQUE7O0FBQ2xCLFNBQUtWLFlBQUwsR0FBb0IzQyxVQUFVLENBQUMsWUFBTTtBQUNuQyxVQUFJZSxNQUFNLEdBQUcxRSxFQUFFLENBQUNzRSxPQUFILENBQVcsTUFBTSxNQUFJLENBQUN2RCxLQUFMLENBQVdxRixjQUE1QixFQUE0QyxHQUE1QyxFQUFpRCxHQUFqRCxDQUFiO0FBQ0EsVUFBSXZELE9BQU8sR0FBRzdDLEVBQUUsQ0FBQ3NFLE9BQUgsQ0FBVyxNQUFNLE1BQUksQ0FBQ3ZELEtBQUwsQ0FBV3FGLGNBQTVCLEVBQTRDLENBQTVDLEVBQStDLENBQS9DLENBQWQ7O0FBQ0EsTUFBQSxNQUFJLENBQUMxRSxJQUFMLENBQVVrRCxTQUFWLENBQW9CNUUsRUFBRSxDQUFDMkUsUUFBSCxDQUFZRCxNQUFaLEVBQW9CN0IsT0FBcEIsQ0FBcEI7QUFDRCxLQUo2QixFQUkzQm1FLElBSjJCLENBQTlCO0FBS0QsR0F0UE07QUF1UFBDLEVBQUFBLGtCQXZQTyxnQ0F1UGMsQ0FFcEIsQ0F6UE07QUEwUFBDLEVBQUFBLFlBMVBPLHdCQTBQTXZFLElBMVBOLEVBMFBZO0FBQ2pCLFNBQUt0QyxTQUFMLEdBQWlCc0MsSUFBakI7QUFDRDtBQTVQTSxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBhdXRob3IgaGV5dWNoYW5nXG4gKiBAZmlsZSDljZXkuKrmlrnlnZfmjqfliLZcbiAqL1xuY2MuQ2xhc3Moe1xuICBleHRlbmRzOiBjYy5Db21wb25lbnQsXG4gIHByb3BlcnRpZXM6IHtcbiAgICBfc3RhdHVzOiAwLCAvLzHkuLrlj6/op6blj5Hngrnlh7sgMuS4uuW3sue7j+a2iOWksVxuICAgIF9pdGVtVHlwZTogMCwgLy/mlrDlop7pgZPlhbflip/og70gMeS4uuWPjOWAjeWAjeaVsCAy5Li654K45by5XG4gICAgd2FybmluZ1Nwcml0ZTogY2MuU3ByaXRlLFxuICAgIGxpZ2h0U3ByaXRlOiBjYy5TcHJpdGUsXG4gIH0sXG4gIGluaXQoZywgZGF0YSwgd2lkdGgsIGl0ZW1UeXBlLCBwb3MpIHtcbiAgICB0aGlzLl9nYW1lID0gZ1xuICAgIHRoaXMuX3N0YXR1cyA9IDFcbiAgICBpZiAocG9zKSB7XG4gICAgICAvL2NjLmxvZygn55Sf5oiQ55qE5pa55Z2XJywgcG9zKVxuICAgIH1cbiAgICBwb3MgPSBwb3MgfHwge1xuICAgICAgeDogZGF0YS54LFxuICAgICAgeTogZGF0YS55XG4gICAgfVxuICAgIHRoaXMuX2l0ZW1UeXBlID0gaXRlbVR5cGUgfHwgMFxuICAgIHRoaXMud2FybmluZ1R5cGUgPSAwXG4gICAgdGhpcy5pc1B1c2ggPSBmYWxzZVxuICAgIHRoaXMuYmluZEV2ZW50KClcbiAgICB0aGlzLmNvbG9yID0gZGF0YS5jb2xvciB8fCBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDQpXG4gICAgdGhpcy5jb2xvclNwcml0ZSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZSgnY29sb3InKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKVxuICAgIHRoaXMuY29sb3JTcHJpdGUuc3ByaXRlRnJhbWUgPSBpdGVtVHlwZSA/IGcucHJvcFNwcml0ZUZyYW1lWyhpdGVtVHlwZSAtIDEpICogNCArIHRoaXMuY29sb3IgLSAxXSA6IHRoaXMuX2dhbWUuYmxvY2tTcHJpdGVbdGhpcy5jb2xvciAtIDFdXG4gICAgdGhpcy53YXJuaW5nU3ByaXRlLnNwcml0ZUZyYW1lID0gJydcbiAgICB0aGlzLl93aWR0aCA9IHdpZHRoXG4gICAgdGhpcy5fY29udHJvbGxlciA9IGcuX2NvbnRyb2xsZXJcbiAgICAvLyDorqHnrpflrr1cbiAgICB0aGlzLmxpZ2h0U3ByaXRlLm5vZGUuYWN0aXZlID0gZmFsc2VcbiAgICAvLyAgdGhpcy5saWdodFNwcml0ZS5zcHJpdGVGcmFtZSA9IHRoaXMuX2dhbWUuYmxvY2tTcHJpdGVbdGhpcy5jb2xvciAtIDFdXG4gICAgdGhpcy5ub2RlLndpZHRoID0gdGhpcy5ub2RlLmhlaWdodCA9IHdpZHRoXG4gICAgdGhpcy5zdGFydFRpbWUgPSBkYXRhLnN0YXJ0VGltZVxuICAgIHRoaXMuaWlkID0gZGF0YS55XG4gICAgdGhpcy5qaWQgPSBkYXRhLnhcbiAgICAvLyBjb25zb2xlLmxvZygn55Sf5oiQ5pa55Z2X5L2N572uJywgZGF0YS55LCBkYXRhLngpXG4gICAgdGhpcy5ub2RlLnggPSAtKDczMCAvIDIgLSBnLmdhcCAtIHdpZHRoIC8gMikgKyBwb3MueCAqICh3aWR0aCArIGcuZ2FwKVxuICAgIHRoaXMubm9kZS55ID0gKDczMCAvIDIgLSBnLmdhcCAtIHdpZHRoIC8gMikgLSBwb3MueSAqICh3aWR0aCArIGcuZ2FwKVxuICAgIHRoaXMubm9kZS5hbmdsZSA9IDBcbiAgICB0aGlzLnBsYXlTdGFydEFjdGlvbigpXG4gIH0sXG4gIG9uV2FybmluZyh0eXBlKSB7XG4gICAgdGhpcy53YXJuaW5nU3ByaXRlLnNwcml0ZUZyYW1lID0gdGhpcy5fZ2FtZS53YXJuaW5nU3ByaXRlRnJhbWVbdHlwZSAtIDFdIHx8ICcnXG4gICAgdGhpcy53YXJuaW5nVHlwZSA9IHR5cGVcbiAgICAvLyAgIHRoaXMubGlnaHRTcHJpdGUubm9kZS5hY3RpdmUgPSB0cnVlXG4gICAgbGV0IGFjdGlvbjEgPSBjYy5ibGluaygxLCAxMClcbiAgICAvLyAgIHRoaXMubGlnaHRTcHJpdGUubm9kZS5ydW5BY3Rpb24oYWN0aW9uMSlcbiAgfSxcbiAgd2FybmluZ0luaXQoKSB7XG4gICAgdGhpcy53YXJuaW5nU3ByaXRlLnNwcml0ZUZyYW1lID0gJydcbiAgICAvLyAgdGhpcy5saWdodFNwcml0ZS5ub2RlLmFjdGl2ZSA9IGZhbHNlXG4gICAgdGhpcy5pc1B1c2ggPSBmYWxzZVxuICB9LFxuICBncm93SW5pdCgpIHtcbiAgICB0aGlzLmdyb3dUeXBlID0gMFxuICAgIHRoaXMuY29sb3JTcHJpdGUubm9kZS5oZWlnaHQgPSB0aGlzLmNvbG9yU3ByaXRlLm5vZGUud2lkdGggPSB0aGlzLl93aWR0aFxuICAgIHRoaXMuY29sb3JTcHJpdGUubm9kZS55ID0gdGhpcy5jb2xvclNwcml0ZS5ub2RlLnggPSAwXG4gIH0sXG4gIGdyb3codHlwZSkgeyAvLzEyMzQg5LiK5LiL5bem5Y+zXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGlmICh0aGlzLmdyb3dUeXBlICE9IDIpIHtcbiAgICAgICAgICB0aGlzLmNvbG9yU3ByaXRlLm5vZGUuaGVpZ2h0ICs9IHRoaXMuX2dhbWUuZ2FwICogMlxuICAgICAgICAgIHRoaXMuY29sb3JTcHJpdGUubm9kZS55ICs9IHRoaXMuX2dhbWUuZ2FwXG4gICAgICAgICAgdGhpcy5ncm93VHlwZSA9IDFcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAyOlxuICAgICAgICBpZiAodGhpcy5ncm93VHlwZSAhPSAyKSB7XG4gICAgICAgICAgdGhpcy5jb2xvclNwcml0ZS5ub2RlLmhlaWdodCArPSB0aGlzLl9nYW1lLmdhcCAqIDJcbiAgICAgICAgICB0aGlzLmNvbG9yU3ByaXRlLm5vZGUueSAtPSB0aGlzLl9nYW1lLmdhcFxuICAgICAgICAgIHRoaXMuZ3Jvd1R5cGUgPSAxXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaWYgKHRoaXMuZ3Jvd1R5cGUgIT0gMSkge1xuICAgICAgICAgIHRoaXMuY29sb3JTcHJpdGUubm9kZS53aWR0aCArPSB0aGlzLl9nYW1lLmdhcCAqIDJcbiAgICAgICAgICB0aGlzLmNvbG9yU3ByaXRlLm5vZGUueCAtPSB0aGlzLl9nYW1lLmdhcFxuICAgICAgICAgIHRoaXMuZ3Jvd1R5cGUgPSAyXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgNDpcbiAgICAgICAgaWYgKHRoaXMuZ3Jvd1R5cGUgIT0gMSkge1xuICAgICAgICAgIHRoaXMuY29sb3JTcHJpdGUubm9kZS53aWR0aCArPSB0aGlzLl9nYW1lLmdhcCAqIDJcbiAgICAgICAgICB0aGlzLmNvbG9yU3ByaXRlLm5vZGUueCArPSB0aGlzLl9nYW1lLmdhcFxuICAgICAgICAgIHRoaXMuZ3Jvd1R5cGUgPSAyXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH0sXG4gIGJpbmRFdmVudCgpIHtcbiAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIHRoaXMub25Ub3VjaGVkLCB0aGlzKVxuXG4gIH0sXG4gIC8vIOeUqOaIt+eCueWHuyDmiJbogIXooqvlhbbku5bmlrnlnZfop6blj5FcbiAgb25Ub3VjaGVkKGNvbG9yLCBpc0NoYWluLCBpc0JvbWIsIHRpbWUpIHsgLy/pgZPlhbfmlrDlop7lj4LmlbAgaXNDaGFpbuaYr+WQpui/numUgSBpc0JvbWLmmK/lkKblvLrliLbmtojpmaRcbiAgICBpZiAodGltZSkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMub25Ub3VjaGVkKGNvbG9yLCBmYWxzZSwgaXNCb21iKVxuICAgICAgfSwgdGltZSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpc0NoYWluID0gSlNPTi5zdHJpbmdpZnkoaXNDaGFpbikgPT0gJ251bGwnID8gdHJ1ZSA6IGlzQ2hhaW5cbiAgICBpc0JvbWIgPSBpc0JvbWIgPyBpc0JvbWIgOiBmYWxzZVxuICAgIGxldCBzZWxmID0gdGhpc1xuICAgIC8vIOeIhueCuOinpuWPkVxuICAgIGlmICh0aGlzLl9zdGF0dXMgPT0gMSAmJiBpc0JvbWIgPT0gdHJ1ZSkge1xuICAgICAgdGhpcy5fc3RhdHVzID0gMlxuICAgICAgdGhpcy5wbGF5RGllQWN0aW9uKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMub25CbG9ja1BvcChjb2xvciwgaXNDaGFpbiwgaXNCb21iKVxuICAgICAgfSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChjb2xvci50eXBlKSB7XG4gICAgICAvLyDkuIDlrprmmK/nlKjmiLfkuLvliqjop6blj5Eg5L+d5a2Y6L+Z5Liq5Z2Q5qCH57uZZ2FtZVxuICAgICAgaWYgKHRoaXMuaXNTaW5nbGUgJiYgdGhpcy5faXRlbVR5cGUgPD0gMSkge1xuICAgICAgICB0aGlzLm5vZGUuc2NhbGUgPSAxXG4gICAgICAgIHRoaXMuX2dhbWUuX3Njb3JlLnRpcEJveC5pbml0KHRoaXMuX2dhbWUuX3Njb3JlLCAzKVxuICAgICAgICBsZXQgYWN0aW9uMSA9IGNjLnNjYWxlVG8oMC4xLCAxLjEsIDAuOSlcbiAgICAgICAgbGV0IGFjdGlvbjIgPSBjYy5zY2FsZVRvKDAuMywgMSkuZWFzaW5nKGNjLmVhc2VCYWNrT3V0KDIuMCkpXG4gICAgICAgIGxldCBhY3Rpb24gPSBjYy5zZXF1ZW5jZShhY3Rpb24xLCBhY3Rpb24yKVxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGFjdGlvbilcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvLyBjb25zb2xlLmxvZygn5pa55Z2X5L2N572uJywgdGhpcy5paWQsIHRoaXMuamlkLCB0aGlzLl9pdGVtVHlwZSlcbiAgICAgIGNvbG9yID0gdGhpcy5jb2xvclxuICAgICAgaWYgKHRoaXMuX3N0YXR1cyA9PSAxICYmIHRoaXMuX2dhbWUuX3N0YXR1cyA9PSAxICYmIHRoaXMuY29sb3IgPT0gY29sb3IpIHtcbiAgICAgICAgdGhpcy5fZ2FtZS5vblVzZXJUb3VjaGVkKHRoaXMuaWlkLCB0aGlzLmppZCwgdGhpcy5faXRlbVR5cGUsIHRoaXMuY29sb3IsIHRoaXMud2FybmluZ1R5cGUsIHtcbiAgICAgICAgICB4OiB0aGlzLm5vZGUueCxcbiAgICAgICAgICB5OiB0aGlzLm5vZGUueVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLl9nYW1lLl9zY29yZS5vblN0ZXAoLTEpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgIHRoaXMucGxheURpZUFjdGlvbigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLm9uQmxvY2tQb3AoY29sb3IsIG51bGwsIG51bGwpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8g55Sx5YW25LuW5pa55Z2X6Kem5Y+RXG4gICAgICBpZiAodGhpcy5fc3RhdHVzID09IDEgJiYgdGhpcy5fZ2FtZS5fc3RhdHVzID09IDUgJiYgdGhpcy5jb2xvciA9PSBjb2xvcikge1xuICAgICAgICB0aGlzLnBsYXlEaWVBY3Rpb24oKS50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLm9uQmxvY2tQb3AoY29sb3IsIG51bGwsIG51bGwpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBvbkJsb2NrUG9wKGNvbG9yLCBpc0NoYWluLCBpc0JvbWIpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXNcbiAgICBpc0NoYWluID0gSlNPTi5zdHJpbmdpZnkoaXNDaGFpbikgPT0gJ251bGwnID8gdHJ1ZSA6IGlzQ2hhaW5cbiAgICBpc0JvbWIgPSBpc0JvbWIgPyBpc0JvbWIgOiBmYWxzZVxuICAgIHNlbGYuX2dhbWUuY2hlY2tOZWVkRmFsbCgpXG4gICAgc2VsZi5fZ2FtZS5fc3RhdHVzID0gNVxuICAgIHNlbGYuX2NvbnRyb2xsZXIubXVzaWNNZ3Iub25QbGF5QXVkaW8oMFxuICAgICAgLy9zZWxmLl9nYW1lLl9zY29yZS5jaGFpbiAtIDFcbiAgICApXG4gICAgaWYgKHRoaXMuX2l0ZW1UeXBlICE9IDApIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwi6Kem5Y+R5LqG6YGT5YW3XCIsIHRoaXMuX2l0ZW1UeXBlKVxuXG4gICAgICBzZWxmLl9nYW1lLm9uSXRlbSh0aGlzLl9pdGVtVHlwZSwgY29sb3IsIHtcbiAgICAgICAgeDogdGhpcy5ub2RlLngsXG4gICAgICAgIHk6IHRoaXMubm9kZS55XG4gICAgICB9KVxuICAgIH1cbiAgICBzZWxmLl9nYW1lLl9zY29yZS5hZGRTY29yZShjYy52Mih0aGlzLm5vZGUueCwgdGhpcy5ub2RlLnkgLSB0aGlzLm5vZGUud2lkdGggKyB0aGlzLl9nYW1lLmdhcCksIHRoaXMuX2l0ZW1UeXBlID09IDMgPyB0aGlzLl9nYW1lLl9jb250cm9sbGVyLmNvbmZpZy5qc29uLnByb3BDb25maWdbMl0uc2NvcmUgOiBudWxsKVxuXG4gICAgLy8g6L+e6ZSB54q25oCBXG4gICAgaWYgKGlzQ2hhaW4pIHtcbiAgICAgIGlmICgoc2VsZi5paWQgLSAxKSA+PSAwKSB7XG4gICAgICAgIHNlbGYuX2dhbWUubWFwW3NlbGYuaWlkIC0gMV1bc2VsZi5qaWRdLmdldENvbXBvbmVudCgnZWxlbWVudCcpLm9uVG91Y2hlZChjb2xvcilcbiAgICAgIH1cbiAgICAgIGlmICgoc2VsZi5paWQgKyAxKSA8IHRoaXMuX2dhbWUucm93TnVtKSB7XG4gICAgICAgIHNlbGYuX2dhbWUubWFwW3NlbGYuaWlkICsgMV1bc2VsZi5qaWRdLmdldENvbXBvbmVudCgnZWxlbWVudCcpLm9uVG91Y2hlZChjb2xvcilcbiAgICAgIH1cbiAgICAgIGlmICgoc2VsZi5qaWQgLSAxKSA+PSAwKSB7XG4gICAgICAgIHNlbGYuX2dhbWUubWFwW3NlbGYuaWlkXVtzZWxmLmppZCAtIDFdLmdldENvbXBvbmVudCgnZWxlbWVudCcpLm9uVG91Y2hlZChjb2xvcilcbiAgICAgIH1cbiAgICAgIGlmICgoc2VsZi5qaWQgKyAxKSA8IHRoaXMuX2dhbWUucm93TnVtKSB7XG4gICAgICAgIHNlbGYuX2dhbWUubWFwW3NlbGYuaWlkXVtzZWxmLmppZCArIDFdLmdldENvbXBvbmVudCgnZWxlbWVudCcpLm9uVG91Y2hlZChjb2xvcilcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHBsYXlGYWxsQWN0aW9uKHksIGRhdGEpIHsgLy/kuIvpmY3kuoblh6DkuKrmoLzlrZBcbiAgICB0aGlzLl9zdGF0dXMgPSAwXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMuaWlkID0gZGF0YS55XG4gICAgICB0aGlzLmppZCA9IGRhdGEueFxuICAgIH1cbiAgICBsZXQgYWN0aW9uID0gY2MubW92ZUJ5KDAuMjUsIDAsIC15ICogKHRoaXMuX2dhbWUuZ2FwICsgdGhpcy5fZ2FtZS5ibG9ja1dpZHRoKSkuZWFzaW5nKGNjLmVhc2VCb3VuY2VPdXQoNSAvIHkpKSAvLzEgKiB5IC8gdGhpcy5fZ2FtZS5hbmltYXRpb25TcGVlZFxuICAgIGxldCBzZXEgPSBjYy5zZXF1ZW5jZShhY3Rpb24sIGNjLmNhbGxGdW5jKCgpID0+IHtcbiAgICAgIHRoaXMuX3N0YXR1cyA9IDFcbiAgICAgIC8vICB0aGlzLl9nYW1lLmNoZWNrTmVlZEdlbmVyYXRvcigpXG4gICAgfSwgdGhpcykpXG4gICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihzZXEpXG4gIH0sXG4gIHBsYXlTdGFydEFjdGlvbigpIHtcbiAgICB0aGlzLm5vZGUuc2NhbGVYID0gMFxuICAgIHRoaXMubm9kZS5zY2FsZVkgPSAwXG4gICAgbGV0IGFjdGlvbiA9IGNjLnNjYWxlVG8oMC44IC8gdGhpcy5fZ2FtZS5hbmltYXRpb25TcGVlZCwgMSwgMSkuZWFzaW5nKGNjLmVhc2VCYWNrT3V0KCkpXG4gICAgbGV0IHNlcSA9IGNjLnNlcXVlbmNlKGFjdGlvbiwgY2MuY2FsbEZ1bmMoKCkgPT4ge1xuICAgICAgdGhpcy5fc3RhdHVzID0gMVxuICAgIH0sIHRoaXMpKVxuICAgIC8vIOWmguaenOacieW7tui/n+aXtumXtOWwseeUqOW7tui/n+aXtumXtFxuICAgIGlmICh0aGlzLnN0YXJ0VGltZSkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihzZXEpXG4gICAgICAgIH0sIHRoaXMuc3RhcnRUaW1lIC8gMVxuICAgICAgICAvLyAoY2MuZ2FtZS5nZXRGcmFtZVJhdGUoKSAvIDYwKVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKHNlcSlcbiAgICB9XG4gIH0sXG4gIHBsYXlEaWVBY3Rpb24oKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuc3VyZmFjZVRpbWVyKVxuICAgIHRoaXMubm9kZS5zdG9wQWxsQWN0aW9ucygpXG4gICAgdGhpcy5fc3RhdHVzID0gMlxuICAgIHRoaXMubm9kZS5zY2FsZVggPSAxXG4gICAgdGhpcy5ub2RlLnNjYWxlWSA9IDFcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGFjdGlvblxuICAgICAgaWYgKHRoaXMud2FybmluZ1Nwcml0ZS5zcHJpdGVGcmFtZSkgeyAvL+aciemBk+WFt+mihOitplxuICAgICAgICBsZXQgYWN0aW9uMSA9IGNjLnNjYWxlVG8oMC4yIC8gc2VsZi5fZ2FtZS5hbmltYXRpb25TcGVlZCwgMS4xKVxuICAgICAgICBsZXQgYWN0aW9uMiA9IGNjLm1vdmVUbygwLjIgLyBzZWxmLl9nYW1lLmFuaW1hdGlvblNwZWVkLCB0aGlzLl9nYW1lLnRhcmdldC54LCB0aGlzLl9nYW1lLnRhcmdldC55KVxuICAgICAgICBsZXQgYWN0aW9uMyA9IGNjLnNjYWxlVG8oMC4yLCAwKVxuICAgICAgICB2YXIgc2VxID0gY2Muc2VxdWVuY2UoYWN0aW9uMSwgY2MuY2FsbEZ1bmMoKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoJycpXG4gICAgICAgIH0sIHRoaXMpLCBjYy5zcGF3bihhY3Rpb24yLCBhY3Rpb24zKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGlvbiA9IGNjLnNjYWxlVG8oMC4yIC8gc2VsZi5fZ2FtZS5hbmltYXRpb25TcGVlZCwgMCwgMClcbiAgICAgICAgdmFyIHNlcSA9IGNjLnNlcXVlbmNlKGFjdGlvbiwgY2MuY2FsbEZ1bmMoKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoJycpXG4gICAgICAgIH0sIHRoaXMpKVxuICAgICAgfVxuICAgICAgc2VsZi5ub2RlLnJ1bkFjdGlvbihzZXEpXG4gICAgfSk7XG4gIH0sXG4gIHN1cmZhY2VBY3Rpb24oZGVsYSkge1xuICAgIHRoaXMuc3VyZmFjZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBsZXQgYWN0aW9uID0gY2Muc2NhbGVUbygwLjQgLyB0aGlzLl9nYW1lLmFuaW1hdGlvblNwZWVkLCAwLjgsIDAuOClcbiAgICAgIGxldCBhY3Rpb24xID0gY2Muc2NhbGVUbygwLjQgLyB0aGlzLl9nYW1lLmFuaW1hdGlvblNwZWVkLCAxLCAxKVxuICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShhY3Rpb24sIGFjdGlvbjEpKVxuICAgIH0sIGRlbGEpXG4gIH0sXG4gIGdlbmVyYXRlUHJvcEFjdGlvbigpIHtcblxuICB9LFxuICBnZW5lcmF0ZUl0ZW0odHlwZSkge1xuICAgIHRoaXMuX2l0ZW1UeXBlID0gdHlwZVxuICB9LFxufSk7Il19